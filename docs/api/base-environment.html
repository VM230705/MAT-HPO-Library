<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaseEnvironment API - MAT-HPO Library</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
</head>
<body>
    <button class="mobile-toggle">‚ò∞</button>
    
    <div class="container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="logo">
                    <div class="logo-icon">M</div>
                    <div class="logo-text">
                        <h1>MAT-HPO</h1>
                        <p>Multi-Agent HPO</p>
                    </div>
                </a>
                <div style="margin-top: 1rem;">
                    <span class="version-badge">v1.0.0</span>
                </div>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <div class="nav-section">Getting Started</div>
                </li>
                <li class="nav-item">
                    <a href="../index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="../installation.html" class="nav-link">Installation</a>
                </li>
                <li class="nav-item">
                    <a href="../quickstart.html" class="nav-link">Quick Start</a>
                </li>
                
                <li class="nav-item">
                    <div class="nav-section">API Reference</div>
                </li>
                <li class="nav-item">
                    <a href="base-environment.html" class="nav-link active">BaseEnvironment</a>
                </li>
                <li class="nav-item">
                    <a href="hyperparameter-space.html" class="nav-link">HyperparameterSpace</a>
                </li>
                <li class="nav-item">
                    <a href="optimizer.html" class="nav-link">MAT_HPO_Optimizer</a>
                </li>
                <li class="nav-item">
                    <a href="configs.html" class="nav-link">Configs</a>
                </li>
                
                <li class="nav-item">
                    <div class="nav-section">Examples</div>
                </li>
                <li class="nav-item">
                    <a href="../examples/simple.html" class="nav-link">Simple Example</a>
                </li>
                
                <li class="nav-item">
                    <div class="nav-section">Resources</div>
                </li>
                <li class="nav-item">
                    <a href="https://github.com/VM230705/MAT-HPO-Library" class="nav-link external">GitHub</a>
                </li>
            </ul>
        </nav>
        
        <main class="content">
            <div class="content-header">
                <nav class="breadcrumb">
                    <a href="../index.html">Home</a> &gt; <a href="../api/">API</a> &gt; BaseEnvironment
                </nav>
                <h1>BaseEnvironment API</h1>
            </div>
            
            <div class="main-content">
                
                <section class="content-section">
                    <h2>üìã Overview</h2>
                    <p>The <code>BaseEnvironment</code> class is the core abstract interface for MAT-HPO optimization. Inherit from this class to define your optimization problem.</p>
                </section>

                <section class="content-section">
                    <h2>üèóÔ∏è Class Definition</h2>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-language">python</span>
                            <button class="copy-btn">Copy</button>
                        </div>
                        <pre><code>from MAT_HPO_LIB import BaseEnvironment

class MyEnvironment(BaseEnvironment):
    def __init__(self, name="MyEnvironment"):
        super().__init__(name)</code></pre>
                    </div>
                </section>

                <section class="content-section">
                    <h2>üîß Required Methods</h2>
                    
                    <div class="api-section">
                        <div class="api-header">
                            <h3>load_data()</h3>
                            <div class="api-signature">load_data() -&gt; Any</div>
                        </div>
                        <div class="api-content">
                            <p>Load and preprocess your dataset. Store data as instance variables.</p>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span class="code-language">python</span>
                                    <button class="copy-btn">Copy</button>
                                </div>
                                <pre><code>def load_data(self):
    # Load your data
    X, y = load_my_dataset()
    
    # Store as instance variables
    self.X_train, self.X_val = train_test_split(X, y)
    
    return {"samples": len(X), "features": X.shape[1]}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="api-section">
                        <div class="api-header">
                            <h3>create_model(hyperparams)</h3>
                            <div class="api-signature">create_model(hyperparams: dict) -&gt; Any</div>
                        </div>
                        <div class="api-content">
                            <p>Create a model with given hyperparameters.</p>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span class="code-language">python</span>
                                    <button class="copy-btn">Copy</button>
                                </div>
                                <pre><code>def create_model(self, hyperparams):
    model = MyModel(
        hidden_size=hyperparams['hidden_size'],
        learning_rate=hyperparams['learning_rate']
    )
    return model</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="api-section">
                        <div class="api-header">
                            <h3>train_evaluate(model, hyperparams)</h3>
                            <div class="api-signature">train_evaluate(model: Any, hyperparams: dict) -&gt; dict</div>
                        </div>
                        <div class="api-content">
                            <p>Train the model and return evaluation metrics.</p>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span class="code-language">python</span>
                                    <button class="copy-btn">Copy</button>
                                </div>
                                <pre><code>def train_evaluate(self, model, hyperparams):
    # Train your model
    model.fit(self.X_train, self.y_train)
    
    # Evaluate performance
    predictions = model.predict(self.X_val)
    f1 = f1_score(self.y_val, predictions)
    accuracy = accuracy_score(self.y_val, predictions)
    
    return {'f1': f1, 'accuracy': accuracy}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="api-section">
                        <div class="api-header">
                            <h3>compute_reward(metrics)</h3>
                            <div class="api-signature">compute_reward(metrics: dict) -&gt; float</div>
                        </div>
                        <div class="api-content">
                            <p>Compute reward from metrics (higher is better).</p>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span class="code-language">python</span>
                                    <button class="copy-btn">Copy</button>
                                </div>
                                <pre><code>def compute_reward(self, metrics):
    # Simple reward: optimize F1-score
    return metrics['f1']
    
    # Multi-objective reward
    return 0.7 * metrics['f1'] + 0.3 * metrics['accuracy']</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="content-section">
                    <h2>üìù Complete Example</h2>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-language">python</span>
                            <button class="copy-btn">Copy</button>
                        </div>
                        <pre><code>from MAT_HPO_LIB import BaseEnvironment
from sklearn.ensemble import RandomForestClassifier
from sklearn.model_selection import train_test_split
from sklearn.metrics import f1_score, accuracy_score

class RandomForestEnvironment(BaseEnvironment):
    def load_data(self):
        # Load your dataset
        X, y = self.load_my_data()
        self.X_train, self.X_val, self.y_train, self.y_val = \
            train_test_split(X, y, test_size=0.2, random_state=42)
        return {"samples": len(X), "features": X.shape[1]}
    
    def create_model(self, hyperparams):
        return RandomForestClassifier(
            n_estimators=int(hyperparams['n_estimators']),
            max_depth=int(hyperparams['max_depth']),
            random_state=42
        )
    
    def train_evaluate(self, model, hyperparams):
        model.fit(self.X_train, self.y_train)
        predictions = model.predict(self.X_val)
        
        return {
            'f1': f1_score(self.y_val, predictions, average='weighted'),
            'accuracy': accuracy_score(self.y_val, predictions)
        }
    
    def compute_reward(self, metrics):
        return metrics['f1']  # Optimize for F1-score</code></pre>
                    </div>
                </section>

                <section class="content-section">
                    <h2>üìö Next Steps</h2>
                    
                    <div class="next-steps">
                        <div class="step-item">
                            <h3><a href="../examples/simple.html">Complete Example</a></h3>
                            <p>See a full working example with neural networks</p>
                        </div>
                        
                        <div class="step-item">
                            <h3><a href="../quickstart.html">Quick Start Guide</a></h3>
                            <p>Step-by-step tutorial for your first optimization</p>
                        </div>
                    </div>
                </section>
                
            </div>
        </main>
    </div>
    
    <script src="../js/main.js"></script>
</body>
</html>